var all_sockets = null;

exports.set_sockets = function(sockets) {
    all_sockets = sockets;
};

exports.connect_chatter = function(config) {
    var sala = config.sala || "principal";
    var socketHandler = require('./server-io-handler')(sala,config.io,config.socket);

    config.socket.on('image message', socketHandler.image_message);
    config.socket.on('chat message', socketHandler.chat_message);
    config.socket.on('prvt message', socketHandler.prvt_message);
    config.socket.on('kickPrv', socketHandler.kick_prv);
    config.socket.on('changeData', socketHandler.change_data);
    config.socket.on('changeRoom', socketHandler.change_room);
    config.socket.on('disconnect', socketHandler.disconnect);
};